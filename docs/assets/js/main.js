"use strict";const searchInput=document.querySelector(".js_search_input"),searchBtn=document.querySelector(".js_search_btn"),listCharactersElement=document.querySelector(".js_list_characters"),listFavoritesElement=document.querySelector(".js_list_favorites");let allCharacters=JSON.parse(localStorage.getItem("allCharactersLS")),foundCharacters=[],favCharacters=[];function fetchCharacters(){fetch("https://breakingbadapi.com/api/characters").then(e=>e.json()).then(e=>{allCharacters=e,saveToLocal(allCharacters,"allCharactersLS"),renderCharacters(allCharacters,listCharactersElement,"main__characters__list__item")})}function fetchSearchCharacters(e){fetch("https://breakingbadapi.com/api/characters?name="+e).then(e=>e.json()).then(e=>{foundCharacters=e,renderCharacters(foundCharacters,listCharactersElement,"main__characters__list__item")})}function renderOneCharacter(e,a,t){return`<li class="${a}">\n  <article class="item__article">\n    <img class="item__article__img" src="${e.img}" alt="${e.name}">\n    <h3 class="item__article__title">${e.name}</h3>\n    <p class="item__article__text">${e.status}</p>\n  </article>\n</li>`}function renderCharacters(e,a,t){a.innerHTML="";for(const r of e)a.innerHTML+=renderOneCharacter(r,t,e.indexOf(r))}function handleSearchClick(e){e.preventDefault();const a=searchInput.value.toLowerCase();allCharacters?(foundCharacters=allCharacters.filter(e=>e.name.toLowerCase().includes(a)),renderCharacters(foundCharacters,listCharactersElement,"main__characters__list__item")):fetchSearchCharacters(a)}function handleInput(e){e.preventDefault();searchInput.value||handleSearchClick(e)}function saveToLocal(e,a){localStorage.setItem(a,JSON.stringify(e))}allCharacters?renderCharacters(allCharacters,listCharactersElement,"main__characters__list__item"):fetchCharacters(),searchBtn.addEventListener("click",handleSearchClick),searchInput.addEventListener("input",handleInput);